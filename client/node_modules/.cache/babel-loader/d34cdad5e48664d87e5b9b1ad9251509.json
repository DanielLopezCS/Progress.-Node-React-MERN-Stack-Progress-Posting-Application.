{"ast":null,"code":"import axios from 'axios';\nimport setAuthToken from '../utils/setAuthToken';\nimport jwt_decode from 'jwt-decode';\nimport { GET_ERRORS, GET_STORIES, GET_CATEGORIES, POST_STORY, POST_EVENT, GET_STORY, POST_FAVORITE, POST_UNFAVORITE, POST_COMMENT, GET_STORIES_PROFILE, UPLOAD_EVENT_IMAGE, UPLOAD_STORY_IMAGE, GET_STORIES_SUBCATEGORIES, DELETE_EVENT, DELETE_STORY } from './types'; // GET Stories\n\nexport var getStories = function getStories() {\n  return function (dispatch) {\n    axios.get('/api/stories').then(function (res) {\n      return dispatch({\n        type: GET_STORIES,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // GET Stories\n\nexport var getCategories = function getCategories() {\n  return function (dispatch) {\n    axios.get('/api/stories/utils/categories').then(function (res) {\n      return dispatch({\n        type: GET_CATEGORIES,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // POST a story\n\nexport var postStory = function postStory(postData) {\n  return function (dispatch) {\n    axios.post('/api/stories', postData).then(function (res) {\n      return dispatch({\n        type: POST_STORY,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // POST a story\n\nexport var postComment = function postComment(storyID, commentData, history) {\n  return function (dispatch) {\n    axios.post(\"/api/stories/comment/\".concat(storyID), commentData).then(function (res) {\n      return dispatch({\n        type: POST_COMMENT,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // GET a story by id\n\nexport var getStory = function getStory(storyID) {\n  return function (dispatch) {\n    axios.get(\"/api/stories/\".concat(storyID)).then(function (res) {\n      dispatch({\n        type: GET_STORY,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // POST a favorite to a post\n\nexport var postFavorite = function postFavorite(postID) {\n  return function (dispatch) {\n    axios.post(\"/api/stories/favorite/\".concat(postID)).then(function (res) {\n      return dispatch({\n        type: POST_FAVORITE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // POST a favorite to a post\n\nexport var postUnfavorite = function postUnfavorite(postID) {\n  return function (dispatch) {\n    axios.post(\"/api/stories/unfavorite/\".concat(postID)).then(function (res) {\n      return dispatch({\n        type: POST_UNFAVORITE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // GET a stories by user profile handle\n\nexport var getStoriesByProfile = function getStoriesByProfile(handle) {\n  return function (dispatch) {\n    axios.get(\"/api/stories/profile/\".concat(handle)).then(function (res) {\n      dispatch({\n        type: GET_STORIES_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //POST an event to a story by id\n\nexport var postEvent = function postEvent(storyID, eventData) {\n  return function (dispatch) {\n    axios.post(\"/api/stories/event/\".concat(storyID), eventData).then(function (res) {\n      return dispatch({\n        type: POST_EVENT,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //route api/stories/upload/event/:story_id/:event_id/\n//POST upload image to event \n\nexport var uploadEventImage = function uploadEventImage(storyID, eventID, image) {\n  return function (dispatch) {\n    axios(\"/api/stories/upload/event/\".concat(storyID, \"/\").concat(eventID), {\n      method: 'POST',\n      data: image,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      return dispatch({\n        type: UPLOAD_EVENT_IMAGE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: 'Cannot Get Image'\n      });\n    });\n  };\n}; //POST an image to Story\n\nexport var uploadStoryImage = function uploadStoryImage(id, image) {\n  return function (dispatch) {\n    axios(\"/api/stories/upload/\".concat(id), {\n      method: 'POST',\n      data: image,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (res) {\n      return dispatch({\n        type: UPLOAD_STORY_IMAGE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: 'Cannot Get Image'\n      });\n    });\n  };\n}; // GET Stories By Subcategories\n\nexport var getStoriesBySubcategories = function getStoriesBySubcategories(subcategory) {\n  return function (dispatch) {\n    axios.get(\"/api/stories/lookup/\".concat(subcategory)).then(function (res) {\n      return dispatch({\n        type: GET_STORIES_SUBCATEGORIES,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // GET Event\n\nexport var deleteEvent = function deleteEvent(storyID, eventID) {\n  return function (dispatch) {\n    axios.delete(\"/api/stories/event/\".concat(storyID, \"/\").concat(eventID)).then(function (res) {\n      return dispatch({\n        type: DELETE_EVENT,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // DELETE story\n\nexport var deleteStory = function deleteStory(storyID) {\n  return function (dispatch) {\n    alert(\"DELETING: \" + \"/api/stories/\".concat(storyID, \"/\"));\n    axios.delete(\"/api/stories/\".concat(storyID, \"/\")).then(function (res) {\n      return dispatch({\n        type: DELETE_STORY,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\Daniel\\Desktop\\progress\\client\\src\\actions\\storyActions.js"],"names":["axios","setAuthToken","jwt_decode","GET_ERRORS","GET_STORIES","GET_CATEGORIES","POST_STORY","POST_EVENT","GET_STORY","POST_FAVORITE","POST_UNFAVORITE","POST_COMMENT","GET_STORIES_PROFILE","UPLOAD_EVENT_IMAGE","UPLOAD_STORY_IMAGE","GET_STORIES_SUBCATEGORIES","DELETE_EVENT","DELETE_STORY","getStories","dispatch","get","then","res","type","payload","data","catch","err","response","getCategories","postStory","postData","post","postComment","storyID","commentData","history","getStory","postFavorite","postID","postUnfavorite","getStoriesByProfile","handle","postEvent","eventData","uploadEventImage","eventID","image","method","headers","uploadStoryImage","id","getStoriesBySubcategories","subcategory","deleteEvent","delete","deleteStory","alert"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport setAuthToken from '../utils/setAuthToken';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport { GET_ERRORS, GET_STORIES, GET_CATEGORIES, POST_STORY, POST_EVENT, \r\n  GET_STORY, POST_FAVORITE, POST_UNFAVORITE, POST_COMMENT, GET_STORIES_PROFILE, \r\n  UPLOAD_EVENT_IMAGE, UPLOAD_STORY_IMAGE, GET_STORIES_SUBCATEGORIES, DELETE_EVENT, DELETE_STORY\r\n} from './types';\r\n\r\n// GET Stories\r\nexport const getStories = () => dispatch => {\r\n  axios\r\n    .get('/api/stories')\r\n    .then(res => \r\n        dispatch({\r\n        type:GET_STORIES,\r\n        payload: res.data,\r\n        }))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// GET Stories\r\nexport const getCategories = () => dispatch => {\r\n  axios\r\n    .get('/api/stories/utils/categories')\r\n    .then(res => \r\n        dispatch({\r\n        type:GET_CATEGORIES,\r\n        payload: res.data,\r\n        }))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// POST a story\r\nexport const postStory = (postData) => dispatch => {\r\n  axios\r\n    .post('/api/stories',postData)\r\n    .then(res => \r\n        dispatch({\r\n        type:POST_STORY,\r\n        payload: res.data,\r\n        }))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// POST a story\r\nexport const postComment = (storyID,commentData, history) => dispatch => {\r\n\r\n  axios\r\n    .post(`/api/stories/comment/${storyID}`,commentData)\r\n    .then(res => \r\n        dispatch({\r\n        type:POST_COMMENT,\r\n        payload: res.data,\r\n        }))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// GET a story by id\r\nexport const getStory = (storyID) => dispatch => {\r\n  axios\r\n    .get(`/api/stories/${storyID}`)\r\n    .then(res => {\r\n        dispatch({\r\n        type:GET_STORY,\r\n        payload: res.data,\r\n\r\n        })})\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// POST a favorite to a post\r\nexport const postFavorite = (postID) => dispatch => {\r\n  axios\r\n    .post(`/api/stories/favorite/${postID}`)\r\n    .then(res => \r\n        dispatch({\r\n        type:POST_FAVORITE,\r\n        payload: res.data,\r\n        }))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// POST a favorite to a post\r\nexport const postUnfavorite = (postID) => dispatch => {\r\n  axios\r\n    .post(`/api/stories/unfavorite/${postID}`)\r\n    .then(res => \r\n        dispatch({\r\n        type:POST_UNFAVORITE,\r\n        payload: res.data,\r\n        }))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// GET a stories by user profile handle\r\n\r\nexport const getStoriesByProfile = (handle) => dispatch => {\r\n  axios\r\n    .get(`/api/stories/profile/${handle}`)\r\n    .then(res => {\r\n        dispatch({\r\n        type:GET_STORIES_PROFILE,\r\n        payload: res.data,\r\n\r\n        })})\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n//POST an event to a story by id\r\nexport const postEvent = (storyID, eventData) => dispatch => {\r\n  axios\r\n    .post(`/api/stories/event/${storyID}`, eventData)\r\n    .then(res => \r\n        dispatch({\r\n        type:POST_EVENT,\r\n        payload: res.data,\r\n        }))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n//route api/stories/upload/event/:story_id/:event_id/\r\n//POST upload image to event \r\nexport const uploadEventImage = (storyID, eventID, image) => dispatch => {\r\n\r\n  axios(`/api/stories/upload/event/${storyID}/${eventID}`,{\r\n   method: 'POST',\r\n   data : image,\r\n   headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n}).then(\r\n  res=> dispatch({\r\n    type:UPLOAD_EVENT_IMAGE,\r\n    payload: res.data,\r\n    })).catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: 'Cannot Get Image'\r\n      })\r\n    );\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n//POST an image to Story\r\nexport const uploadStoryImage = (id,image) => dispatch => {\r\n\r\n  axios(`/api/stories/upload/${id}`,{\r\n   method: 'POST',\r\n   data : image,\r\n   headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n}).then(\r\n  res=> dispatch({\r\n    type:UPLOAD_STORY_IMAGE,\r\n    payload: res.data,\r\n    })).catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: 'Cannot Get Image'\r\n      })\r\n    );\r\n    }\r\n\r\n\r\n// GET Stories By Subcategories\r\nexport const getStoriesBySubcategories = (subcategory) => dispatch => {\r\n  axios\r\n    .get(`/api/stories/lookup/${subcategory}`)\r\n    .then(res => \r\n        dispatch({\r\n        type:GET_STORIES_SUBCATEGORIES,\r\n        payload: res.data,\r\n        }))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n \r\n\r\n// GET Event\r\nexport const deleteEvent = (storyID,eventID) => dispatch => {\r\n  axios\r\n    .delete(`/api/stories/event/${storyID}/${eventID}`)\r\n    .then(res => \r\n        dispatch({\r\n        type:DELETE_EVENT,\r\n        payload: res.data,\r\n        }))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n \r\n\r\n\r\n// DELETE story\r\nexport const deleteStory = (storyID) => dispatch => {\r\n  alert(\"DELETING: \"+ `/api/stories/${storyID}/`);\r\n\r\n  axios\r\n    .delete(`/api/stories/${storyID}/`)\r\n    .then(res => \r\n        dispatch({\r\n        type:DELETE_STORY,\r\n        payload: res.data,\r\n        }))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n "]},"metadata":{},"sourceType":"module"}