{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Daniel\\\\Desktop\\\\progress\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Daniel\\\\Desktop\\\\progress\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Daniel\\\\Desktop\\\\progress\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Daniel\\\\Desktop\\\\progress\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Daniel\\\\Desktop\\\\progress\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Daniel\\\\Desktop\\\\progress\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Daniel\\\\Desktop\\\\progress\\\\client\\\\src\\\\components\\\\StoryDetail\\\\Sections\\\\Comments\\\\Comments.js\";\nimport React, { Component } from 'react';\nimport { Feed, Icon, Segment, Form, Input, TextArea, Label, Button } from 'semantic-ui-react';\nimport { postComment } from '../../../../actions/storyActions';\nimport { connect } from 'react-redux';\nimport Spinner from '../../../Utils/Spinner';\n\nvar Comments =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Comments, _Component);\n\n  function Comments() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Comments);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Comments)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      text: '',\n      isLoading: false\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.onSubmit = function () {\n      var commentData = {\n        text: _this.state.text\n      };\n\n      _this.props.postComment(_this.props.story._id, commentData);\n\n      _this.setState({\n        isLoading: true\n      });\n    };\n\n    _this.handleProfileClick = function (handle) {\n      _this.props.history.push(\"/profile/user/\".concat(handle));\n    };\n\n    return _this;\n  }\n\n  _createClass(Comments, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.nextProps.comment) this.setState({\n        isLoading: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var text = this.state.text;\n      return React.createElement(Segment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, this.state.isLoading && React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), this.props.story && this.props.story.comments.map(function (comment) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(Feed, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(Feed.Event, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(Feed.Label, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: comment.avatar,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        })), React.createElement(Feed.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(Feed.Summary, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(Feed.User, {\n          onClick: function onClick() {\n            _this2.handleProfileClick(comment.name);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, comment.name ? comment.name : 'Anonynomous'), \" commented\", React.createElement(Feed.Date, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, comment.date), React.createElement(Feed.Extra, {\n          text: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, comment.text))))));\n      }), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Post Your Comment!\", React.createElement(TextArea, {\n        maxLength: \"300\",\n        name: \"text\",\n        placeholder: \"Tell us what you think\",\n        value: text,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(Button, {\n        floated: \"right\",\n        positive: true,\n        onClick: function onClick() {\n          _this2.onSubmit();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \" Post \"))));\n    }\n  }]);\n\n  return Comments;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    story: state.stories.story\n  };\n};\n\nexport default connect(mapStateToProps, {\n  postComment: postComment\n})(Comments);","map":{"version":3,"sources":["C:\\Users\\Daniel\\Desktop\\progress\\client\\src\\components\\StoryDetail\\Sections\\Comments\\Comments.js"],"names":["React","Component","Feed","Icon","Segment","Form","Input","TextArea","Label","Button","postComment","connect","Spinner","Comments","state","text","isLoading","handleChange","event","setState","target","name","value","onSubmit","commentData","props","story","_id","handleProfileClick","handle","history","push","nextProps","comment","comments","map","avatar","date","mapStateToProps","stories"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Feed, Icon, Segment, Form, Input, TextArea, Label, Button } from 'semantic-ui-react'\r\n\r\nimport {postComment } from '../../../../actions/storyActions';\r\n\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport Spinner from '../../../Utils/Spinner';\r\n\r\nclass Comments extends Component {\r\n\r\n  state = {text:'',\r\n  isLoading:false,\r\n}\r\n\r\nhandleChange = event =>{\r\n  this.setState({[event.target.name]:event.target.value});\r\n}\r\n\r\n\r\n  onSubmit=()=>{\r\n\r\n    const commentData = {\r\n      text:this.state.text\r\n    };\r\n\r\n    this.props.postComment(this.props.story._id,commentData)\r\n    this.setState({isLoading:true});\r\n\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps){\r\n    if(this.nextProps.comment) this.setState({isLoading:false});\r\n  }\r\n\r\n  handleProfileClick = (handle) =>{\r\n   \r\n    this.props.history.push(`/profile/user/${handle}`);\r\n\r\n  \r\n  }\r\n\r\n\r\n  render() {\r\n    const {text} = this.state;\r\n\r\n    return (\r\n      <Segment>\r\n        {this.state.isLoading&& <Spinner/>}\r\n\r\n  {this.props.story &&\r\n\r\n      this.props.story.comments.map(comment=>\r\n        <div>\r\n        <Feed >\r\n    <Feed.Event>\r\n      <Feed.Label>\r\n        <img src={comment.avatar}/>\r\n      </Feed.Label>\r\n      <Feed.Content>\r\n        <Feed.Summary>\r\n          <Feed.User onClick={()=>{this.handleProfileClick(comment.name)}}>{comment.name? comment.name : 'Anonynomous'}</Feed.User> commented\r\n          <Feed.Date>{comment.date}</Feed.Date>\r\n          <Feed.Extra text>{comment.text}</Feed.Extra>\r\n        </Feed.Summary>\r\n       \r\n      </Feed.Content>\r\n    </Feed.Event>\r\n\r\n    \r\n  </Feed>\r\n\r\n  </div>\r\n      )}\r\n\r\n\r\n          \r\n<Form>\r\n\r\n<Label>Post Your Comment!\r\n<TextArea maxLength=\"300\" name='text' placeholder='Tell us what you think'   value={text} onChange={this.handleChange}/>\r\n<Button floated='right' positive onClick = {()=>{this.onSubmit()}}> Post </Button>\r\n</Label>\r\n</Form>\r\n  </Segment>    \r\n          \r\n  \r\n  )\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n\r\n  story:  state.stories.story,\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, {postComment})(Comments);\r\n"]},"metadata":{},"sourceType":"module"}